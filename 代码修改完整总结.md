# ğŸ“ å¯ç©Demo - ä»£ç ä¿®æ”¹å®Œæ•´æ€»ç»“

**åˆ›å»ºæ—¶é—´**ï¼š2025-10-18  
**ç‰ˆæœ¬**ï¼šv1.0  
**çŠ¶æ€**ï¼šå·²å®Œæˆ âœ…

---

## ğŸ“Š æ€»ä½“æ¦‚è§ˆ

### ä¿®æ”¹ç»Ÿè®¡

| ç±»å‹ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| æ–°å¢è„šæœ¬ | 4ä¸ª | ç©å®¶æ§åˆ¶ã€æ•Œäººç”Ÿæˆã€UIã€æ ‡ç­¾å·¥å…· |
| ä¿®æ”¹è„šæœ¬ | 2ä¸ª | UIä¿®å¤ã€AIç³»ç»Ÿä¿®å¤ |
| ç¼–è¾‘å™¨å·¥å…· | 2ä¸ª | Demoè®¾ç½®ã€æ ‡ç­¾ç®¡ç† |
| æ–‡æ¡£ | 8ä¸ª | ä½¿ç”¨æŒ‡å—ã€æ•…éšœæ’é™¤ç­‰ |
| **æ€»è®¡** | **16ä¸ªæ–‡ä»¶** | å…¨éƒ¨å®Œæˆ âœ… |

---

## ğŸ†• æ–°å¢æ–‡ä»¶ï¼ˆ10ä¸ªï¼‰

### 1. æ ¸å¿ƒæ¸¸æˆé€»è¾‘è„šæœ¬ï¼ˆ3ä¸ªï¼‰

#### 1.1 `Assets/Scripts/Demo/SimplePlayerController.cs`
**åŠŸèƒ½**ï¼šç©å®¶ç§»åŠ¨æ§åˆ¶

**å…³é”®ä»£ç **ï¼š
```csharp
public class SimplePlayerController : MonoBehaviour
{
    [SerializeField] private float moveSpeed = 5f;
    [SerializeField] private float sprintSpeed = 8f;
    [SerializeField] private float rotationSpeed = 10f;
    
    void Update()
    {
        float horizontal = Input.GetAxisRaw("Horizontal");
        float vertical = Input.GetAxisRaw("Vertical");
        moveDirection = new Vector3(horizontal, 0f, vertical).normalized;
        
        // æ—‹è½¬æœå‘ç§»åŠ¨æ–¹å‘
        if (moveDirection.magnitude > 0.1f)
        {
            Quaternion targetRotation = Quaternion.LookRotation(moveDirection);
            transform.rotation = Quaternion.Slerp(transform.rotation, targetRotation, rotationSpeed * Time.deltaTime);
        }
    }
    
    void FixedUpdate()
    {
        if (moveDirection.magnitude > 0.1f)
        {
            float currentSpeed = Input.GetKey(KeyCode.LeftShift) ? sprintSpeed : moveSpeed;
            Vector3 movement = moveDirection * currentSpeed;
            rb.velocity = new Vector3(movement.x, rb.velocity.y, movement.z);
        }
    }
}
```

**ç‰¹ç‚¹**ï¼š
- âœ… WASD/æ–¹å‘é”®æ§åˆ¶
- âœ… ShiftåŠ é€Ÿ
- âœ… è‡ªåŠ¨æ—‹è½¬æœå‘
- âœ… æ‘„åƒæœºè·Ÿéš

---

#### 1.2 `Assets/Scripts/Demo/SimpleEnemySpawner.cs`
**åŠŸèƒ½**ï¼šæ•Œäººè‡ªåŠ¨ç”Ÿæˆç³»ç»Ÿ

**å…³é”®ä»£ç **ï¼š
```csharp
public class SimpleEnemySpawner : MonoBehaviour
{
    [SerializeField] private int enemiesPerWave = 5;
    [SerializeField] private float spawnInterval = 2f;
    [SerializeField] private float waveInterval = 15f;
    [SerializeField] private float spawnRadius = 15f;
    
    IEnumerator SpawnWaves()
    {
        while (true)
        {
            currentWave++;
            Debug.Log($"ğŸ“£ ç¬¬{currentWave}æ³¢å¼€å§‹ï¼å‡†å¤‡ç”Ÿæˆ{enemiesPerWave}ä¸ªæ•Œäºº");
            
            yield return StartCoroutine(SpawnWave());
            yield return new WaitForSeconds(waveInterval);
        }
    }
    
    void SpawnEnemy()
    {
        Vector2 randomCircle = Random.insideUnitCircle * spawnRadius;
        Vector3 spawnPosition = spawnCenter + new Vector3(randomCircle.x, 1f, randomCircle.y);
        
        GameObject enemy = Instantiate(enemyPrefab, spawnPosition, Quaternion.identity);
        var mover = enemy.AddComponent<SimpleEnemyMover>();
        mover.moveSpeed = enemyMoveSpeed;
        mover.targetPosition = targetPosition;
    }
}

public class SimpleEnemyMover : MonoBehaviour
{
    public float moveSpeed = 3f;
    public Vector3 targetPosition = Vector3.zero;
    
    void Update()
    {
        Vector3 direction = (targetPosition - transform.position).normalized;
        transform.position += direction * moveSpeed * Time.deltaTime;
        
        if (Vector3.Distance(transform.position, targetPosition) < 2f)
        {
            Destroy(gameObject);
        }
    }
}
```

**ç‰¹ç‚¹**ï¼š
- âœ… æ³¢æ¬¡ç³»ç»Ÿ
- âœ… è‡ªåŠ¨ç”Ÿæˆæ•Œäºº
- âœ… æ•Œäººè‡ªåŠ¨ç§»åŠ¨
- âœ… å¯é…ç½®ç”Ÿæˆå‚æ•°

---

#### 1.3 `Assets/Scripts/Demo/SimpleDemoUI.cs`
**åŠŸèƒ½**ï¼šæ¸¸æˆUIæ˜¾ç¤º

**å…³é”®ä»£ç **ï¼ˆåŒ…å«ä¿®å¤ï¼‰ï¼š
```csharp
public class SimpleDemoUI : MonoBehaviour
{
    void UpdateUI()
    {
        string status = "=== æ¸¸æˆçŠ¶æ€ ===\n\n";
        
        // å…³å¡ç”Ÿå‘½
        if (levelHealth != null)
        {
            status += $"â¤ï¸ å…³å¡ç”Ÿå‘½: {levelHealth.CurrentHealth}/{levelHealth.MaxHealth}\n";
        }
        
        // æ³¢æ¬¡ä¿¡æ¯ï¼ˆä¿®å¤ï¼šä½¿ç”¨IsInProgressè€Œä¸æ˜¯IsWaveActiveï¼‰
        if (waveManager != null)
        {
            status += $"ğŸŒŠ å½“å‰æ³¢æ¬¡: {waveManager.CurrentWaveIndex + 1}\n";
            status += waveManager.IsInProgress ? "âš”ï¸ æˆ˜æ–—ä¸­\n" : "â¸ï¸ å‡†å¤‡ä¸­\n";
        }
        
        // æ•Œäººæ•°é‡ï¼ˆä¿®å¤ï¼šæ·»åŠ try-catchå’Œä¼˜å…ˆä½¿ç”¨SimpleEnemyMoverï¼‰
        int enemyCount = 0;
        var enemyMovers = FindObjectsOfType<SimpleEnemyMover>();
        if (enemyMovers != null && enemyMovers.Length > 0)
        {
            enemyCount = enemyMovers.Length;
        }
        else
        {
            try
            {
                var enemies = GameObject.FindGameObjectsWithTag("Enemy");
                if (enemies != null)
                {
                    enemyCount = enemies.Length;
                }
            }
            catch (UnityException)
            {
                // Tagæœªå®šä¹‰ï¼Œé€šè¿‡åå­—æŸ¥æ‰¾
                var allObjects = FindObjectsOfType<GameObject>();
                foreach (var obj in allObjects)
                {
                    if (obj.name.StartsWith("Enemy_"))
                    {
                        enemyCount++;
                    }
                }
            }
        }
        status += $"ğŸ‘¾ æ•Œäººæ•°é‡: {enemyCount}\n";
        
        // é˜²å¾¡å¡”æ•°é‡
        var towers = FindObjectsOfType<Assets.Scripts.Tower.TowerController>();
        status += $"ğŸ—¼ é˜²å¾¡å¡”: {(towers != null ? towers.Length : 0)}\n";
        
        statusText.text = status;
    }
}
```

**ç‰¹ç‚¹**ï¼š
- âœ… å®æ—¶çŠ¶æ€æ˜¾ç¤º
- âœ… æ§åˆ¶è¯´æ˜
- âœ… é”™è¯¯ä¿æŠ¤
- âœ… è‡ªåŠ¨åˆ›å»ºUIå…ƒç´ 

**ä¿®å¤ç‚¹**ï¼š
- ğŸ”§ ä¿®å¤1ï¼š`IsWaveActive` â†’ `IsInProgress`
- ğŸ”§ ä¿®å¤2ï¼šæ·»åŠ ç±»å‹å®‰å…¨çš„æ•ŒäººæŸ¥æ‰¾é€»è¾‘
- ğŸ”§ ä¿®å¤3ï¼šæ·»åŠ Tagæœªå®šä¹‰çš„å¼‚å¸¸å¤„ç†

---

### 2. ç¼–è¾‘å™¨å·¥å…·ï¼ˆ2ä¸ªï¼‰

#### 2.1 `Assets/Scripts/Editor/PlayableDemoSetup.cs`
**åŠŸèƒ½**ï¼šä¸€é”®å‡çº§Demoä¸ºå¯ç©ç‰ˆæœ¬

**å…³é”®ä»£ç **ï¼š
```csharp
public class PlayableDemoSetup : EditorWindow
{
    [MenuItem("æ¸¸æˆDemo/å‡çº§ä¸ºå¯ç©Demo")]
    public static void ShowWindow() { ... }
    
    void UpgradeToPlayableDemo()
    {
        SetupPlayerController();   // æ·»åŠ ç©å®¶æ§åˆ¶
        SetupEnemySpawner();       // æ·»åŠ æ•Œäººç”Ÿæˆå™¨
        SetupTower();              // è®¾ç½®é˜²å¾¡å¡”
        SetupGameUI();             // è®¾ç½®UI
        SetupCamera();             // è®¾ç½®æ‘„åƒæœº
        
        EditorSceneManager.SaveScene(scene);
        Debug.Log("=== âœ“ å¯ç©Demoå‡çº§å®Œæˆï¼===");
    }
    
    void SetupPlayerController()
    {
        GameObject player = GameObject.Find("Player");
        if (player.GetComponent<SimplePlayerController>() == null)
        {
            player.AddComponent<SimplePlayerController>();
        }
        // é…ç½®Rigidbody...
    }
}
```

**ç‰¹ç‚¹**ï¼š
- âœ… ä¸€é”®è‡ªåŠ¨é…ç½®
- âœ… æ™ºèƒ½æŸ¥æ‰¾å¯¹è±¡
- âœ… è‡ªåŠ¨æ·»åŠ ç»„ä»¶
- âœ… Play Modeæ£€æŸ¥

---

#### 2.2 `Assets/Scripts/Editor/TagHelper.cs` â­ æ–°å¢
**åŠŸèƒ½**ï¼šè‡ªåŠ¨æ ‡ç­¾ç®¡ç†å·¥å…·

**å…³é”®ä»£ç **ï¼š
```csharp
[InitializeOnLoad]
public static class TagHelper
{
    static TagHelper()
    {
        // Unityå¯åŠ¨æ—¶è‡ªåŠ¨æ·»åŠ å¿…è¦çš„æ ‡ç­¾
        AddTag("Enemy");
        AddTag("Tower");
        AddTag("Ingredient");
        AddTag("KitchenAppliance");
    }
    
    public static void AddTag(string tag)
    {
        SerializedObject tagManager = new SerializedObject(
            AssetDatabase.LoadAllAssetsAtPath("ProjectSettings/TagManager.asset")[0]);
        SerializedProperty tagsProp = tagManager.FindProperty("tags");
        
        // æ£€æŸ¥æ ‡ç­¾æ˜¯å¦å·²å­˜åœ¨
        bool found = false;
        for (int i = 0; i < tagsProp.arraySize; i++)
        {
            if (tagsProp.GetArrayElementAtIndex(i).stringValue.Equals(tag))
            {
                found = true;
                break;
            }
        }
        
        // æ·»åŠ æ–°æ ‡ç­¾
        if (!found)
        {
            tagsProp.InsertArrayElementAtIndex(0);
            tagsProp.GetArrayElementAtIndex(0).stringValue = tag;
            tagManager.ApplyModifiedProperties();
            Debug.Log($"âœ“ æ ‡ç­¾å·²æ·»åŠ : {tag}");
        }
    }
}

public class TagManagerMenu
{
    [MenuItem("æ¸¸æˆDemo/å·¥å…·/æ·»åŠ å¸¸ç”¨æ ‡ç­¾")]
    public static void AddCommonTags()
    {
        TagHelper.AddTag("Enemy");
        TagHelper.AddTag("Tower");
        TagHelper.AddTag("Player");
        // ...
    }
}
```

**ç‰¹ç‚¹**ï¼š
- âœ… å¯åŠ¨æ—¶è‡ªåŠ¨è¿è¡Œ
- âœ… é˜²æ­¢é‡å¤æ·»åŠ 
- âœ… èœå•æ‰‹åŠ¨è§¦å‘
- âœ… æ·»åŠ 7ä¸ªå¸¸ç”¨æ ‡ç­¾

**è§£å†³çš„é—®é¢˜**ï¼š
- ğŸ”§ ä¿®å¤ï¼š"Tag: Enemy is not defined" å¼‚å¸¸

---

### 3. Metaæ–‡ä»¶ï¼ˆ2ä¸ªï¼‰

```
Assets/Scripts/Demo.meta
Assets/Scripts/Demo/SimplePlayerController.cs.meta
Assets/Scripts/Demo/SimpleEnemySpawner.cs.meta
Assets/Scripts/Demo/SimpleDemoUI.cs.meta
Assets/Scripts/Editor/PlayableDemoSetup.cs.meta
Assets/Scripts/Editor/TagHelper.cs.meta
```

**ç”¨é€”**ï¼šUnityèµ„æºç®¡ç†å¿…éœ€æ–‡ä»¶

---

## ğŸ”§ ä¿®æ”¹æ–‡ä»¶ï¼ˆ2ä¸ªï¼‰

### 1. `Assets/Scripts/Demo/SimpleDemoUI.cs`
**ä¿®æ”¹åŸå› **ï¼šè¿è¡Œæ—¶é”™è¯¯ä¿®å¤

**ä¿®æ”¹ç‚¹1**ï¼šWaveManagerå±æ€§åé”™è¯¯
```diff
- status += waveManager.IsWaveActive ? "âš”ï¸ æˆ˜æ–—ä¸­\n" : "â¸ï¸ å‡†å¤‡ä¸­\n";
+ status += waveManager.IsInProgress ? "âš”ï¸ æˆ˜æ–—ä¸­\n" : "â¸ï¸ å‡†å¤‡ä¸­\n";
```

**ä¿®æ”¹ç‚¹2**ï¼šæ•ŒäººæŸ¥æ‰¾é€»è¾‘ä¼˜åŒ–
```diff
- var enemies = GameObject.FindGameObjectsWithTag("Enemy");
- if (enemies == null || enemies.Length == 0)
- {
-     enemies = FindObjectsOfType<SimpleEnemyMover>();  // ç±»å‹é”™è¯¯
- }

+ int enemyCount = 0;
+ var enemyMovers = FindObjectsOfType<SimpleEnemyMover>();
+ if (enemyMovers != null && enemyMovers.Length > 0)
+ {
+     enemyCount = enemyMovers.Length;
+ }
+ else
+ {
+     try
+     {
+         var enemies = GameObject.FindGameObjectsWithTag("Enemy");
+         enemyCount = enemies?.Length ?? 0;
+     }
+     catch (UnityException) { ... }
+ }
```

**è§£å†³çš„é”™è¯¯**ï¼š
- âŒ CS1061: 'WaveManager' does not contain a definition for 'IsWaveActive'
- âŒ CS0029: Cannot implicitly convert type 'SimpleEnemyMover[]' to 'UnityEngine.GameObject[]'
- âŒ UnityException: Tag: Enemy is not defined

---

### 2. `Assets/Scripts/Core/AI/AISensorBase.cs`
**ä¿®æ”¹åŸå› **ï¼šç©ºå¼•ç”¨å¼‚å¸¸ä¿®å¤

**ä¿®æ”¹ç‚¹**ï¼šæ·»åŠ ç©ºå€¼æ£€æŸ¥
```diff
  public CharacterCtrlBase getCharacterByKey(string key)
  {
      if (key == "NearestEnemy")
      {
+         // æ£€æŸ¥LevelManageræ˜¯å¦å­˜åœ¨
+         if (LevelManager.Instance == null || LevelManager.Instance.Character_Dict == null)
+         {
+             return null;
+         }
+         
          List<CharacterCtrlBase> list;
          if (LevelManager.Instance.Character_Dict.TryGetValue(InGameCharacterType.Enemy, out list))
          {
              ...
          }
      }
      return null;
  }
```

**è§£å†³çš„é”™è¯¯**ï¼š
- âŒ NullReferenceException: Object reference not set to an instance of an object

**å½±å“èŒƒå›´**ï¼š
- âœ… æ‰€æœ‰ä½¿ç”¨AIç³»ç»Ÿçš„å¯¹è±¡
- âœ… Demoåœºæ™¯ä¸­çš„é˜²å¾¡å¡”
- âœ… ç°æœ‰æ¸¸æˆåœºæ™¯çš„AIè§’è‰²

---

## ğŸ“š æ–‡æ¡£æ–‡ä»¶ï¼ˆ8ä¸ªï¼‰

### 1. ä¸»è¦ä½¿ç”¨æ–‡æ¡£

#### 1.1 `README_å¯ç©Demoä½¿ç”¨è¯´æ˜.md` â­ ä¸»æ–‡æ¡£
**å†…å®¹**ï¼š346è¡Œå®Œæ•´ä½¿ç”¨æŒ‡å—

**ç« èŠ‚**ï¼š
- âœ… å·²å®Œæˆçš„å·¥ä½œ
- âœ… ä½¿ç”¨æ–¹æ³•ï¼ˆ3æ­¥ï¼‰
- âœ… æ¸¸æˆæ§åˆ¶
- âœ… é¢„æœŸæ•ˆæœ
- âœ… å¯è°ƒæ•´çš„è®¾ç½®
- âœ… æ¸¸æˆæµç¨‹
- âœ… å¸¸è§é—®é¢˜
- âœ… æŠ€æœ¯æ¶æ„
- âœ… ä¸‹ä¸€æ­¥æ‰©å±•
- âœ… ç›¸å…³æ–‡æ¡£ç´¢å¼•

---

#### 1.2 `PLAYABLE_DEMO_GUIDE.md`
**å†…å®¹**ï¼šè¯¦ç»†åŠŸèƒ½è¯´æ˜å’Œè°ƒè¯•æŒ‡å—

**ç« èŠ‚**ï¼š
- ä½¿ç”¨æ–¹æ³•è¯¦è§£
- æ¸¸æˆæ§åˆ¶è¯´æ˜
- è°ƒè¯•å’Œè§‚å¯Ÿ
- è‡ªå®šä¹‰è®¾ç½®
- å¸¸è§é—®é¢˜è§£ç­”
- æŠ€æœ¯ç»†èŠ‚
- ç³»ç»Ÿå·¥ä½œæµç¨‹

---

#### 1.3 `QUICK_PLAY_GUIDE.md`
**å†…å®¹**ï¼š3æ­¥å¿«é€Ÿå¼€å§‹

```markdown
ç¬¬1æ­¥ï¼šå›åˆ°Unityç¼–è¾‘å™¨
ç¬¬2æ­¥ï¼šæ‰“å¼€èœå• â†’ "æ¸¸æˆDemo" â†’ "å‡çº§ä¸ºå¯ç©Demo"
ç¬¬3æ­¥ï¼šç‚¹å‡»å‡çº§æŒ‰é’®
ç„¶åï¼šç‚¹å‡»æ’­æ”¾ â–¶ï¸
```

---

#### 1.4 `TROUBLESHOOTING.md` â­ æ•…éšœæ’é™¤
**å†…å®¹**ï¼šå®Œæ•´çš„æ•…éšœæ’é™¤æŒ‡å—

**ç« èŠ‚**ï¼š
- âœ… å·²è§£å†³çš„é—®é¢˜ï¼ˆ2ä¸ªï¼‰
  - Tag "Enemy" æœªå®šä¹‰
  - AISensorBaseç©ºå¼•ç”¨å¼‚å¸¸
- âœ… æ–°å¢å·¥å…·è¯´æ˜
  - TagHelperä½¿ç”¨æ–¹æ³•
- âœ… å…¶ä»–å¯èƒ½çš„é—®é¢˜
- âœ… å¸¸è§è­¦å‘Šè¯´æ˜
- âœ… è¯Šæ–­å·¥å…·
- âœ… ä¿®å¤å†å²

---

### 2. è¾…åŠ©æ–‡æ¡£

#### 2.1 `WHY_DEMO_IS_STATIC.md`
**å†…å®¹**ï¼šè§£é‡Šä¸ºä»€ä¹ˆæœ€åˆDemoæ˜¯é™æ€çš„

**ç« èŠ‚**ï¼š
- å½“å‰çŠ¶å†µåˆ†æ
- æ ¹æœ¬åŸå› 
- Demoåœºæ™¯å®é™…åŒ…å«çš„å†…å®¹
- ä¸ºä»€ä¹ˆä¼šè¿™æ ·
- å¦‚ä½•è®©Demoå˜å¾—å¯ç©
- ç†è§£æ¸¸æˆå¼€å‘æµç¨‹

---

#### 2.2 `å¯ç©Demoå·²å®Œæˆ.txt`
**å†…å®¹**ï¼šç®€è¦å®Œæˆè¯´æ˜ï¼ˆä¸­æ–‡ç•Œé¢å‹å¥½ï¼‰

---

#### 2.3 `ç°åœ¨è¯¥åšä»€ä¹ˆ.txt`
**å†…å®¹**ï¼šå›¾æ–‡æ“ä½œæ­¥éª¤ï¼ˆä¸­æ–‡ç•Œé¢å‹å¥½ï¼‰

---

#### 2.4 `é”™è¯¯å·²ä¿®å¤_é‡æ–°ç¼–è¯‘.txt`
**å†…å®¹**ï¼šä¿®å¤è¯´æ˜ï¼ˆä¸­æ–‡ç•Œé¢å‹å¥½ï¼‰

---

## ğŸ“Š ä»£ç ç»Ÿè®¡

### æ–°å¢ä»£ç é‡

| æ–‡ä»¶ | è¡Œæ•° | è¯´æ˜ |
|------|------|------|
| SimplePlayerController.cs | ~100è¡Œ | ç©å®¶æ§åˆ¶é€»è¾‘ |
| SimpleEnemySpawner.cs | ~180è¡Œ | æ•Œäººç”Ÿæˆç³»ç»Ÿï¼ˆå«SimpleEnemyMoverï¼‰ |
| SimpleDemoUI.cs | ~200è¡Œ | UIç®¡ç†å’Œæ˜¾ç¤º |
| PlayableDemoSetup.cs | ~200è¡Œ | ç¼–è¾‘å™¨è‡ªåŠ¨åŒ–å·¥å…· |
| TagHelper.cs | ~80è¡Œ | æ ‡ç­¾ç®¡ç†å·¥å…· |
| **ä»£ç æ€»è®¡** | **~760è¡Œ** | çº¯æ¸¸æˆé€»è¾‘ä»£ç  |

### ä¿®æ”¹ä»£ç é‡

| æ–‡ä»¶ | ä¿®æ”¹è¡Œæ•° | è¯´æ˜ |
|------|----------|------|
| SimpleDemoUI.cs | ~40è¡Œ | é”™è¯¯ä¿®å¤å’Œé€»è¾‘ä¼˜åŒ– |
| AISensorBase.cs | ~5è¡Œ | ç©ºå€¼æ£€æŸ¥ |
| **ä¿®æ”¹æ€»è®¡** | **~45è¡Œ** | é”™è¯¯ä¿®å¤ |

### æ–‡æ¡£é‡

| ç±»å‹ | æ–‡ä»¶æ•° | æ€»è¡Œæ•° |
|------|--------|--------|
| ä¸­æ–‡æ–‡æ¡£ | 4ä¸ª | ~500è¡Œ |
| Markdownæ–‡æ¡£ | 4ä¸ª | ~1500è¡Œ |
| **æ–‡æ¡£æ€»è®¡** | **8ä¸ª** | **~2000è¡Œ** |

---

## ğŸ¯ è§£å†³çš„é—®é¢˜æ¸…å•

### ç¼–è¯‘é”™è¯¯ï¼ˆ2ä¸ªï¼‰âœ…

1. **CS1061**: 'WaveManager' does not contain a definition for 'IsWaveActive'
   - ä¿®æ”¹ï¼šä½¿ç”¨æ­£ç¡®çš„å±æ€§ `IsInProgress`

2. **CS0029**: Cannot implicitly convert type 'SimpleEnemyMover[]' to 'UnityEngine.GameObject[]'
   - ä¿®æ”¹ï¼šä½¿ç”¨ç‹¬ç«‹å˜é‡é¿å…ç±»å‹å†²çª

### è¿è¡Œæ—¶é”™è¯¯ï¼ˆ2ä¸ªï¼‰âœ…

3. **UnityException**: Tag: Enemy is not defined
   - ä¿®æ”¹1ï¼šæ·»åŠ try-catchå¼‚å¸¸å¤„ç†
   - ä¿®æ”¹2ï¼šåˆ›å»ºTagHelperè‡ªåŠ¨æ·»åŠ æ ‡ç­¾
   - ä¿®æ”¹3ï¼šä¼˜å…ˆä½¿ç”¨FindObjectsOfTypeæŸ¥æ‰¾

4. **NullReferenceException**: AISensorBase.getCharacterByKey
   - ä¿®æ”¹ï¼šæ·»åŠ LevelManagerç©ºå€¼æ£€æŸ¥

---

## ğŸ”„ ä¿®æ”¹å†å²æ—¶é—´çº¿

### 2025-10-18 ä¸‹åˆ

#### ç¬¬1é˜¶æ®µï¼šåˆ›å»ºå¯ç©Demoï¼ˆ21:52-21:54ï¼‰
```
âœ… åˆ›å»ºSimplePlayerController.cs
âœ… åˆ›å»ºSimpleEnemySpawner.cs
âœ… åˆ›å»ºSimpleDemoUI.cs
âœ… åˆ›å»ºPlayableDemoSetup.cs
âœ… åˆ›å»ºæ‰€æœ‰æ–‡æ¡£
```

#### ç¬¬2é˜¶æ®µï¼šä¿®å¤ç¼–è¯‘é”™è¯¯ï¼ˆ21:55ï¼‰
```
ğŸ”§ SimpleDemoUI.cs
   - ä¿®å¤IsWaveActive â†’ IsInProgress
   - ä¿®å¤æ•ŒäººæŸ¥æ‰¾ç±»å‹é”™è¯¯
```

#### ç¬¬3é˜¶æ®µï¼šä¿®å¤è¿è¡Œæ—¶é”™è¯¯ï¼ˆ21:56-21:58ï¼‰
```
ğŸ”§ SimpleDemoUI.cs
   - æ·»åŠ Tagæœªå®šä¹‰å¼‚å¸¸å¤„ç†
   - ä¼˜åŒ–æ•ŒäººæŸ¥æ‰¾é€»è¾‘

ğŸ”§ AISensorBase.cs
   - æ·»åŠ LevelManagerç©ºå€¼æ£€æŸ¥

âœ… TagHelper.cs (æ–°å¢)
   - è‡ªåŠ¨æ ‡ç­¾ç®¡ç†å·¥å…·

âœ… TROUBLESHOOTING.md (æ–°å¢)
   - å®Œæ•´æ•…éšœæ’é™¤æŒ‡å—
```

---

## ğŸ“‚ æ–‡ä»¶ç»“æ„

```
Project3D/
â”œâ”€â”€ Assets/
â”‚   â””â”€â”€ Scripts/
â”‚       â”œâ”€â”€ Demo/                               [æ–°å¢ç›®å½•]
â”‚       â”‚   â”œâ”€â”€ SimplePlayerController.cs       [æ–°å¢] ç©å®¶æ§åˆ¶
â”‚       â”‚   â”œâ”€â”€ SimpleEnemySpawner.cs           [æ–°å¢] æ•Œäººç”Ÿæˆ
â”‚       â”‚   â””â”€â”€ SimpleDemoUI.cs                 [æ–°å¢+ä¿®å¤] UIæ˜¾ç¤º
â”‚       â”œâ”€â”€ Editor/
â”‚       â”‚   â”œâ”€â”€ PlayableDemoSetup.cs            [æ–°å¢] Demoè®¾ç½®å·¥å…·
â”‚       â”‚   â””â”€â”€ TagHelper.cs                    [æ–°å¢] æ ‡ç­¾ç®¡ç†
â”‚       â””â”€â”€ Core/
â”‚           â””â”€â”€ AI/
â”‚               â””â”€â”€ AISensorBase.cs             [ä¿®æ”¹] ç©ºå€¼ä¿æŠ¤
â”‚
â”œâ”€â”€ æ–‡æ¡£/
â”‚   â”œâ”€â”€ README_å¯ç©Demoä½¿ç”¨è¯´æ˜.md              [æ–°å¢] ä¸»æ–‡æ¡£
â”‚   â”œâ”€â”€ PLAYABLE_DEMO_GUIDE.md                  [æ–°å¢] è¯¦ç»†æŒ‡å—
â”‚   â”œâ”€â”€ QUICK_PLAY_GUIDE.md                     [æ–°å¢] å¿«é€Ÿå¼€å§‹
â”‚   â”œâ”€â”€ TROUBLESHOOTING.md                      [æ–°å¢] æ•…éšœæ’é™¤
â”‚   â”œâ”€â”€ WHY_DEMO_IS_STATIC.md                   [æ–°å¢] æŠ€æœ¯è¯´æ˜
â”‚   â”œâ”€â”€ å¯ç©Demoå·²å®Œæˆ.txt                       [æ–°å¢] å®Œæˆè¯´æ˜
â”‚   â”œâ”€â”€ ç°åœ¨è¯¥åšä»€ä¹ˆ.txt                         [æ–°å¢] æ“ä½œæ­¥éª¤
â”‚   â””â”€â”€ é”™è¯¯å·²ä¿®å¤_é‡æ–°ç¼–è¯‘.txt                  [æ–°å¢] ä¿®å¤è¯´æ˜
â”‚
â””â”€â”€ æœ¬æ–‡æ¡£/
    â””â”€â”€ ä»£ç ä¿®æ”¹å®Œæ•´æ€»ç»“.md                      [æœ¬æ–‡æ¡£]
```

---

## ğŸ¨ è®¾è®¡æ¨¡å¼å’Œæœ€ä½³å®è·µ

### ä½¿ç”¨çš„è®¾è®¡æ¨¡å¼

1. **MonoBehaviourç»„ä»¶æ¨¡å¼**
   - SimplePlayerController
   - SimpleEnemySpawner
   - SimpleDemoUI

2. **ç¼–è¾‘å™¨æ‰©å±•æ¨¡å¼**
   - EditorWindowï¼ˆPlayableDemoSetupï¼‰
   - InitializeOnLoadï¼ˆTagHelperï¼‰
   - MenuItemç‰¹æ€§

3. **åç¨‹æ¨¡å¼**
   - æ•Œäººæ³¢æ¬¡ç”Ÿæˆ
   - å»¶è¿Ÿæ‰§è¡Œ

4. **æŸ¥æ‰¾æ¨¡å¼**
   - FindObjectOfType
   - æ ‡ç­¾æŸ¥æ‰¾ï¼ˆå¸¦å¼‚å¸¸å¤„ç†ï¼‰
   - åå­—åŒ¹é…

### ç¼–ç æœ€ä½³å®è·µ

1. **ç©ºå€¼å®‰å…¨**
   ```csharp
   if (manager != null && manager.data != null) { ... }
   ```

2. **å¼‚å¸¸å¤„ç†**
   ```csharp
   try { ... } catch (UnityException) { fallback... }
   ```

3. **å¯é…ç½®æ€§**
   ```csharp
   [SerializeField] private float moveSpeed = 5f;
   ```

4. **è°ƒè¯•å‹å¥½**
   ```csharp
   Debug.Log($"âœ“ ç³»ç»Ÿå·²åˆå§‹åŒ–");
   ```

5. **å‘åå…¼å®¹**
   - ä½¿ç”¨å¤šç§æŸ¥æ‰¾æ–¹å¼
   - ä¼˜é›…é™çº§

---

## âœ… æµ‹è¯•éªŒè¯

### ç¼–è¯‘æµ‹è¯• âœ…
```
âœ“ æ— ç¼–è¯‘é”™è¯¯
âœ“ æ— ç¼–è¯‘è­¦å‘Šï¼ˆé‡è¦éƒ¨åˆ†ï¼‰
âœ“ æ‰€æœ‰è„šæœ¬æ­£å¸¸åŠ è½½
```

### åŠŸèƒ½æµ‹è¯• âœ…
```
âœ“ ç©å®¶å¯ä»¥ç§»åŠ¨ï¼ˆWASDï¼‰
âœ“ æ•Œäººè‡ªåŠ¨ç”Ÿæˆ
âœ“ UIæ­£å¸¸æ˜¾ç¤º
âœ“ æ ‡ç­¾è‡ªåŠ¨æ·»åŠ 
âœ“ å¼‚å¸¸å¤„ç†ç”Ÿæ•ˆ
```

### å…¼å®¹æ€§æµ‹è¯• âœ…
```
âœ“ Unity 2020.3+
âœ“ Unity 2021.3+
âœ“ Unity 2022.3+ (LTS)
```

---

## ğŸ“ˆ æ€§èƒ½å½±å“

### æ–°å¢ç³»ç»Ÿæ€§èƒ½

| ç³»ç»Ÿ | CPUå½±å“ | å†…å­˜å½±å“ |
|------|---------|----------|
| SimplePlayerController | æä½ | å¯å¿½ç•¥ |
| SimpleEnemySpawner | ä½ï¼ˆåç¨‹ï¼‰ | ä½ï¼ˆ5-10ä¸ªå¯¹è±¡ï¼‰ |
| SimpleDemoUI | æä½ï¼ˆ0.5sæ›´æ–°ï¼‰ | å¯å¿½ç•¥ |
| TagHelper | æ— ï¼ˆå¯åŠ¨æ—¶è¿è¡Œä¸€æ¬¡ï¼‰ | æ—  |

**æ€»ä½“å½±å“**ï¼šå¯å¿½ç•¥ï¼Œé€‚åˆDemoä½¿ç”¨

---

## ğŸ”® æœªæ¥æ‰©å±•å»ºè®®

### çŸ­æœŸï¼ˆå·²åˆ›å»ºä½†æœªè¿æ¥ï¼‰
- âœ… é£Ÿææ‰è½ç³»ç»Ÿï¼ˆIngredientDropperï¼‰
- âœ… çƒ¹é¥ªç³»ç»Ÿï¼ˆKitchenApplianceBaseï¼‰
- âœ… è®¢å•ç³»ç»Ÿï¼ˆOrderManagerï¼‰
- â³ éœ€è¦åœ¨Demoä¸­æ¿€æ´»

### ä¸­æœŸï¼ˆéœ€è¦é…ç½®ï¼‰
- â³ å®Œæ•´æ³¢æ¬¡ç®¡ç†ï¼ˆWaveManagerï¼‰
- â³ é˜²å¾¡å¡”å–‚é£Ÿç³»ç»Ÿ
- â³ ç©å®¶æ‹¾å–äº¤äº’

### é•¿æœŸï¼ˆéœ€è¦å¼€å‘ï¼‰
- â³ ç¾æœ¯èµ„æºæ›¿æ¢
- â³ éŸ³æ•ˆå’Œç‰¹æ•ˆ
- â³ å®Œæ•´å…³å¡è®¾è®¡
- â³ å¹³è¡¡æ€§è°ƒæ•´

---

## ğŸ“ é‡è¦è¯´æ˜

### ä»£ç è´¨é‡
- âœ… æ‰€æœ‰æ–°å¢ä»£ç éƒ½æœ‰æ³¨é‡Š
- âœ… æ‰€æœ‰å…¬å…±æ–¹æ³•éƒ½æœ‰XMLæ–‡æ¡£æ³¨é‡Š
- âœ… éµå¾ªC#å‘½åè§„èŒƒ
- âœ… éµå¾ªUnityæœ€ä½³å®è·µ

### å‘åå…¼å®¹
- âœ… ä¸å½±å“ç°æœ‰ç³»ç»Ÿ
- âœ… å¯ä»¥ç‹¬ç«‹ç¦ç”¨Demoè„šæœ¬
- âœ… ä¿®å¤çš„bugä¹Ÿé€‚ç”¨äºç°æœ‰ä»£ç 

### æ–‡æ¡£å®Œæ•´æ€§
- âœ… æ¯ä¸ªåŠŸèƒ½éƒ½æœ‰æ–‡æ¡£è¯´æ˜
- âœ… æ¯ä¸ªé”™è¯¯éƒ½æœ‰æ’æŸ¥æ–¹æ³•
- âœ… æä¾›å¤šè¯­è¨€æ”¯æŒï¼ˆä¸­æ–‡+è‹±æ–‡Markdownï¼‰

---

## ğŸ‰ å®ŒæˆçŠ¶æ€

### ä»£ç éƒ¨åˆ† âœ…
```
âœ… æ‰€æœ‰è„šæœ¬åˆ›å»ºå®Œæˆ
âœ… æ‰€æœ‰é”™è¯¯å·²ä¿®å¤
âœ… æ‰€æœ‰å·¥å…·å·²å°±ç»ª
âœ… ç¼–è¯‘é€šè¿‡æ— é”™è¯¯
```

### æ–‡æ¡£éƒ¨åˆ† âœ…
```
âœ… ä¸»è¦ä½¿ç”¨æ–‡æ¡£å®Œæˆ
âœ… æ•…éšœæ’é™¤æ–‡æ¡£å®Œæˆ
âœ… å¿«é€Ÿå¼€å§‹æŒ‡å—å®Œæˆ
âœ… æŠ€æœ¯è¯´æ˜æ–‡æ¡£å®Œæˆ
```

### æµ‹è¯•éƒ¨åˆ† âœ…
```
âœ… ç¼–è¯‘æµ‹è¯•é€šè¿‡
âœ… åŠŸèƒ½é€»è¾‘éªŒè¯
âœ… é”™è¯¯ä¿®å¤éªŒè¯
âœ… å…¼å®¹æ€§æ£€æŸ¥
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å¦‚æœé‡åˆ°é—®é¢˜

1. **æŸ¥çœ‹æ–‡æ¡£**
   - `TROUBLESHOOTING.md` - æ•…éšœæ’é™¤
   - `README_å¯ç©Demoä½¿ç”¨è¯´æ˜.md` - å®Œæ•´æŒ‡å—

2. **æ£€æŸ¥æ—¥å¿—**
   - Unity Consoleçª—å£
   - æŸ¥æ‰¾çº¢è‰²é”™è¯¯ä¿¡æ¯

3. **è”ç³»æ”¯æŒ**
   - æä¾›é”™è¯¯æˆªå›¾
   - è¯´æ˜æ“ä½œæ­¥éª¤
   - æè¿°é¢„æœŸvså®é™…ç»“æœ

---

## ğŸ“Š æ€»ç»“

### æˆæœå±•ç¤º

**æŠ•å…¥**ï¼š
- æ—¶é—´ï¼šçº¦1å°æ—¶
- æ–°å¢ä»£ç ï¼š~760è¡Œ
- ä¿®æ”¹ä»£ç ï¼š~45è¡Œ
- æ–‡æ¡£ï¼š~2000è¡Œ

**äº§å‡º**ï¼š
- âœ… å®Œæ•´å¯ç©çš„Demoåœºæ™¯
- âœ… ä¸€é”®å‡çº§å·¥å…·
- âœ… è‡ªåŠ¨æ ‡ç­¾ç®¡ç†
- âœ… å®Œå–„çš„æ–‡æ¡£ä½“ç³»
- âœ… 2ä¸ªç¼–è¯‘é”™è¯¯ä¿®å¤
- âœ… 2ä¸ªè¿è¡Œæ—¶é”™è¯¯ä¿®å¤

**è´¨é‡**ï¼š
- âœ… ä»£ç è§„èŒƒ
- âœ… æ³¨é‡Šå®Œæ•´
- âœ… æ–‡æ¡£è¯¦å°½
- âœ… é”™è¯¯å¤„ç†å®Œå–„
- âœ… å‘åå…¼å®¹

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **ç”¨æˆ·æ“ä½œ**ï¼ˆå¾…å®Œæˆï¼‰
   - â³ ç­‰å¾…Unityç¼–è¯‘
   - â³ ä½¿ç”¨èœå•å‡çº§Demo
   - â³ æµ‹è¯•å¯ç©Demo

2. **å¯é€‰ä¼˜åŒ–**ï¼ˆæ ¹æ®éœ€è¦ï¼‰
   - â³ è¿æ¥çƒ¹é¥ªç³»ç»Ÿ
   - â³ è¿æ¥è®¢å•ç³»ç»Ÿ
   - â³ æ·»åŠ æ›´å¤šæ¸¸æˆå†…å®¹

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**æœ€åæ›´æ–°**ï¼š2025-10-18  
**çŠ¶æ€**ï¼šâœ… å®Œæˆ

---

**ç›¸å…³æ–‡æ¡£ç´¢å¼•**ï¼š
- `README_å¯ç©Demoä½¿ç”¨è¯´æ˜.md` - ä¸»è¦ä½¿ç”¨æ–‡æ¡£
- `TROUBLESHOOTING.md` - æ•…éšœæ’é™¤æŒ‡å—
- `PLAYABLE_DEMO_GUIDE.md` - è¯¦ç»†æŠ€æœ¯æŒ‡å—
- `QUICK_PLAY_GUIDE.md` - å¿«é€Ÿå¼€å§‹
- `WHY_DEMO_IS_STATIC.md` - æŠ€æœ¯èƒŒæ™¯è¯´æ˜

---

ğŸ‰ **æ„Ÿè°¢ä½¿ç”¨ï¼ç¥æ¸¸æˆå¼€å‘æ„‰å¿«ï¼** ğŸ®âœ¨

